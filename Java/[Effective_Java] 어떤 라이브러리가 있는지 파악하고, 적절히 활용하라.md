## 어떤 라이브러리가 있는지 파악하고, 적절히 활용하라
### 원하는 기능이 있을땐 존재하는 라이브러리를 잘 찾아보고 있다면 사용하라.

----

Random Number를 만들라고하면 대부분 아래와 같은 코드를 만들 것이다.
```java
    private static final Random rnd = new Random();
    static int random(int n) {
        return Math.abs(rnd.nextInt()) % n;
    }
```
보기에 나쁘지 않으나 세가지 문제가 있다.
1. n이 그리 크지 않은 2의 제곱수일 경우 위 함수는 중복된 난수들을 만들어내기 시작한다.
2. n이 제곱수가 아닐 경우, 어떤 수는 다른 수들보다 평균적으로 더 자주 등장할 것이다. n이 커지면 이 효과는 무시하기 어려워진다.
3. 드문 경우긴 하지만 지정된 구간 밖에 있는 난수를 토해내는 치명적 오류가 발생할 수 있다. rnd.nextInt()가 반환하는 값을 Math.abs를 이용하여 0 이상의 int로 반환하려다 발생하는 문제인데, nextInt()가 Integer.MIN_VALUE를 반환할 경우, Math.abs도 Integer.MIN_VALUE를 반환할 것이고, n이 2의 제곱수가 아닐때 거기에 %를 적용하면 음수가 만들어진다. 이러한 오류는 재현하기 까다롭다.

위 세가지 문제를 해결한 random 메소드를 만들려면 알아야 할 것이 많다. 그러나 이미 플랫폼 라이브러리에 위의 문제를 해결한 함수가 있다. **Random.nextInt(int)가 바로 그것이다.**

#### 표준 라이브러리를 사용할때의 장점
1. 그 라이브러리를 개발한 전문가의 지식뿐만 아니라 여러분보다 먼저 라이브러리를 사용한 사람들의 경험할 수 있다.  
2. 두 번째 장점은 실제로 하려는 일과 큰 관련성도 없는 문제에 대한 해결 방법을 임의로 구현하느라 시간을 낭비하지 않아도 된다는 것이다.
3. 개발자가 별다른 노력을 하지 않아도 그 성능이 점차 개선된다. 많은 사람이 사용하는 데다 업계의 표준 벤치마크에서도 쓰이므로, 라이브러리를 공급하는 조직들은 더 빠른 라이브러리가 나올 수 있도록 다양한 장려책을 내놓고 있다. 자바 플랫폼 라이브러리는 계속 수정되고 있어서, 그 성능도 극적으로 좋아지고 있다.
4. 표준 라이브러리를 사용하면 주류 개발자들과 같은 코드를 만들게 된다. 그런 코드는 가독성이 높고, 유지보수가 쉬우며, 다른 개발자들이 재사용하기도 좋다.

이러한 장점에도 불구하고 상당수의 프로그래머들은 **라이브러리에 어떤 기능이 있는지 잘 모르고 있고, 떄문에 그것을 사용하지 않는다.**

**중요한 새 릴리스가 나올 때마다 많은 기능이 새로 추가되는데, 그때마다 어떤 것들이 추가되었는지를 알아두는 것이 좋다.**  
자바 플랫폼이 중요 릴리스를 내놓을 때마다 Oracle은 어떤 새 기능들이 추가되었는지를 설명하는 웹 페이지를 공개한다. 규모가 너무 방대해서 모든 문서를 다 공부할 수는 없다.  
하지만 **자바 프로그래머라면 java.lang, java.util 안에 있는 내용은 잘 알고 있어야 하며, java.io의 내용도 어느 정도 알고 있어야 한다.**

라이브러리에 어떤 기능들이 담겼는지 요약은 따로 없지만 2가지는 알아야 할 필요가 있다.

**릴리스 1.2에는 java.util 패키지에 컬렉션 프레임워크가 추가되었다.** 모든 프로그래머가 기본적인 도구로 활용하는 기능이다. 컬렉션 프레임워크는 컬렉션을 표현하고 다루는 통합된 아키텍처로서, 컬렉션 표현 방식에 관한 세부사항을 몰라도 컬렉션을 독립적으로 조작할 수 있도록 한다.  

**릴리스 1.5부터는 병행성(Concurrency) 관련 유틸리티들이 java.util.concurrent 패키지에 추가되었다.** 이 패키지에는 좀 더 간단하게 다중스레드 프로그램을 짤 수 있도록 하는 고수준(high-level) 병행성 유틸리티들과, 전문 프로그래머들이 자신만의 고수준 병행성 클래스나 메서드 등을 작성할 수 있도록 하는 저수준 병행성 기본연산들이 포함되어있다. java.util.concurrent 패키지에 있는 고수준 병행성 유틸리티들은 개발자라면 기본적으로 알고 있어야 하는 것들이다.

때로는 라이브러리가 제공하는 기능이 만족스럽지 않을 때가 있다. 라이브러리에 담긴 기능을 우선적으로 고려해야 한다는 것은 맞지만, 그것이 원하는 기능을 구현하기에 충분치 않다면 대안을 찾아봐야 한다.  
라이브러리가 제공하는 기능에는 언제나 빠진 부분이 있다. 그러니 원하는 기능이 빠져 있다면, 직접 구현하는 방법 이외의 대안은 없을 수도 있다.

요약  
흔하게 쓰일법한 무언가를 개발해야 한다면, 아마 라이브러리를 뒤져보면 그에 맞는 클래스를 찾을 수 있을 것이다. 있다면, 그것을 사용하라.  
잘 모르겠다면 살펴보라. 일반적으로 보자면 직접 만든 코드보다는 라이브러리에 있는 코드가 더 낫고, 점차 개선될 가능성도 높다.

-----

참고: 

Bloch, Joshua. Effective Java (2/E). 인사이트, 2014